import{aM as f,az as g,q as _,r as y,z as o,bs as l,o as V,p as A,bu as J,bk as D,F as k,aK as v,y as n,a_ as w}from"./_@vue-AcWbRQZ2.js";import{_ as B}from"../js2/index-A1W57FR6.js";import"./__vendor-oHGn7YgQ.js";const L={data(){return{haveRule:!0,ISAdmin:!1,rules:"",split:.2,queryModel:{},bProject:{},appType:{},status:{},columns:[{title:"ID",width:70,key:"id",fixed:"left",sortable:!0,align:"center"},{title:"应用名",key:"app_name",fixed:"left",width:200,align:"center"},{title:"状态",key:"status",slot:"status",width:150,align:"center"},{title:"包名",key:"package_name",width:200,align:"center"},{title:"域名地址",key:"domain_url",width:200,align:"center"},{title:"跳转开关",key:"jump_switch",slot:"jumpSwitch",width:100,align:"center"},{title:"跳转地址",key:"jump_url",width:200,align:"center"},{title:"跳转项目组",key:"b_project",width:200,align:"center"},{title:"跳转次数",key:"jump_count",width:100,align:"center"},{title:"访问次数",key:"request_count",width:100,align:"center"},{title:"Sha1",key:"sha1",width:200,align:"center"},{title:"功能",key:"app_function",width:200,align:"center"},{title:"类型",key:"app_type",slot:"appType",width:200,align:"center"},{title:"域名验证",key:"google_sharch_status",slot:"googleSharchStatus",width:200,align:"center"},{title:"HTTPS 启用状态",key:"https_status",slot:"https_Status",width:200,align:"center"},{title:"图片",key:"image",slot:"image",width:200,align:"center"},{title:"讨论组id",key:"tele_chatid",width:200,align:"center"},{title:"热更新开关",key:"update_switch",slot:"updateSwitch",width:200,align:"center"},{title:"热更新地址",key:"update_url",width:200,align:"center"},{title:"包",key:"app_package",width:200,align:"center"},{title:"谷歌邮箱",key:"app_gmail",width:200,align:"center"},{title:"谷歌邮箱密码",key:"google_email_password",width:200,align:"center"},{title:"谷歌辅助邮箱",key:"google_assist_email",width:200,align:"center"},{title:"接口服务器",key:"api_vps",width:200,align:"center"},{title:"服务器用户名",key:"vps_username",width:200,align:"center"},{title:"服务器密码",key:"vps_password",width:200,align:"center"},{title:"AFdev",key:"afdev",width:200,align:"center"},{title:"AF账号",key:"afaccount",width:200,align:"center"},{title:"身份验证",key:"google_auth",width:200,align:"center"},{title:"提包日期",key:"bag_time",width:200,align:"center"},{title:"被封原因",key:"blocked_cause",width:200,align:"center"},{title:"Google Play链接",key:"google_play_link",width:200,align:"center"},{title:"IP查询TOKEN",key:"spare_code",width:200,align:"center"},{title:"k3/Adtoken",key:"k3",width:200,align:"center"},{title:"K4/AdRegToken",key:"k4",width:200,align:"center"},{title:"数字签名",key:"signature",width:200,align:"center"},{title:"主类名",key:"main_name",width:200,align:"center"},{title:"隐私协议地址",key:"privacy_agreement_url",width:200,align:"center"},{title:"上架日期",key:"up_time",width:200,align:"center"},{title:"更新批次",key:"update_batch",slot:"updateBatch",width:200,align:"center"},{title:"下架日期",key:"down_time",width:200,align:"center"},{title:"下架原因",key:"down_reason",width:200,align:"center"},{title:"录入时间",key:"create_time",width:200,align:"center"},{title:"发布时间",key:"create_time",width:200,align:"center"},{title:"更新时间",key:"update_time",width:200,align:"center"},{title:"发布人员",key:"publish_id",slot:"publishId",width:200,align:"center"},{title:"测试人员",key:"test_id",width:200,align:"center"},{title:"测试时间",key:"test_time",width:200,align:"center"},{title:"Action",slot:"action",width:140,align:"center",fixed:"right"}],data:[],total:0,pageSize:10,pageSizeOpts:10,page:1,current_page:1,loading:!0,formValidateID:0,formValidate:{},modalSaveAppTrace:!1,modelType:"add",chat:[],publish:[],modelProject:!1,modelTitle:"",projectColumns:[{title:"Id",key:"id",width:60},{title:"app_id",key:"app_id",width:80},{title:"update_batch",key:"update_batch",width:116},{title:"update_reason",key:"update_reason"},{title:"update_time",key:"update_time"}],projectData:[],ruleValidate:{app_name:[{required:!0,message:"The app_name cannot be empty",trigger:"blur"}],app_type:[{required:!0,message:"The app_type cannot be empty",trigger:"blur"}],status:[{required:!0,message:"The status cannot be empty",trigger:"blur"}]},imgName:"",visible:!1,uploadList:{},uploadVisible:!1,uploadAction:""}},created(){let i=JSON.parse(sessionStorage.getItem("userinfo")).isAdmin;this.ISAdmin=i;let e=JSON.parse(sessionStorage.getItem("userinfo")).user_id;if(this.uploadAction="http://www.tp6.com/api/v1/uploadImage?user_id="+e+"&menu_auth_id=170&id=",i==!0)this.getAppTrace();else{let s=this.$router.currentRoute._value.query.menu_id;this.checkAuth(s);let r=sessionStorage.getItem("rules");r?this.rules=r:this.getUserToRules()}},mounted(){this.uploadList=this.$refs.upload.fileList},methods:{isSubstring(i,e){return this.ISAdmin==!0?!0:e.split(",").map(r=>parseInt(r.trim())).includes(parseInt(i))},async getUserToRules(){let i=this,e=JSON.parse(sessionStorage.getItem("userinfo")).user_id;await i.$api.Admin.getUserToRules({user_id:e}).then(function(s){s.data.code==200&&(i.rules=s.data.data,sessionStorage.setItem("rules",s.data.data))}).catch(function(s){console.log(s)})},async checkAuth(i){let e=this,s=JSON.parse(sessionStorage.getItem("userinfo")).user_id;await e.$api.Admin.checkAuth({id:i,user_id:s}).then(function(r){r.data.code==200?(console.log(r.data.msg),e.haveRule=!0,e.getAppTrace()):(console.log(r.data.msg),e.haveRule=!1)}).catch(function(r){console.log(r)})},changeDate(i){this.queryModel.bag_time=i},clickSearch(){let i=this,e=i.queryModel,s={page:1,pageSize:10,api_vps:e.api_vps?e.api_vps:"",app_name:e.app_name?e.app_name:"",app_password:e.app_password?e.app_password:"",app_type:e.app_type?e.app_type:"",b_project:e.b_project?e.b_project:"",bag_time:e.bag_time?e.bag_time:"",domain_url:e.domain_url?e.domain_url:"",package_name:e.package_name?e.package_name:"",status:e.status?e.status:""};i.queryAppTrace(s)},async queryAppTrace(i){let e=this;e.$Message.loading("拼命加载中..."),await e.$api.AppTrace.index(i).then(function(s){s.data.code==200?setTimeout(()=>{e.data=s.data.data.data,e.total=s.data.data.total,e.pageSize=s.data.data.per_page,e.current_page=s.data.data.current_page},1e3):(console.log(s.data.msg),e.data=[],e.total=0,e.pageSize=10,e.current_page=1)}).catch(function(s){e.$Message.error("Network error, request failed")})},onRefresh(){this.page=1,this.pageSize=10,this.$Message.loading("拼命加载中..."),this.queryModel={},setTimeout(()=>{this.getAppTrace()},2e3)},changeJumpSwitch(i,e,s){let r=e!=!0,t=this,d=JSON.parse(sessionStorage.getItem("userinfo")).user_id;return new Promise(u=>{t.ISAdmin==!1?t.$api.Admin.checkIsAuthToButton({user_id:d,menu_auth_id:s}).then(function(c){if(c.data.code==0)return t.$Message.error(c.data.msg),!1;t.saveSwitchOrSelect(i,r,"jump_switch"),u()}).catch(function(c){t.$Message.error("Network error, request failed"),console.log(c)}):(t.saveSwitchOrSelect(i,r,"jump_switch"),u())})},changeUpdateSwitch(i,e,s){let r=e!=!0,t=this,d=JSON.parse(sessionStorage.getItem("userinfo")).user_id;return new Promise(u=>{t.ISAdmin==!1?t.$api.Admin.checkIsAuthToButton({user_id:d,menu_auth_id:s}).then(function(c){if(c.data.code==0)return t.$Message.error(c.data.msg),!1;t.saveSwitchOrSelect(i,r,"update_switch"),u()}).catch(function(c){t.$Message.error("Network error, request failed"),console.log(c)}):(t.saveSwitchOrSelect(i,r,"update_switch"),u())})},changeGoogleSharchStatus(i,e,s){let r=e!=!0,t=this,d=JSON.parse(sessionStorage.getItem("userinfo")).user_id;return new Promise(u=>{t.ISAdmin==!1?t.$api.Admin.checkIsAuthToButton({user_id:d,menu_auth_id:s}).then(function(c){if(c.data.code==0)return t.$Message.error(c.data.msg),!1;t.saveSwitchOrSelect(i,r,"google_sharch_status"),u()}).catch(function(c){t.$Message.error("Network error, request failed"),console.log(c)}):(t.saveSwitchOrSelect(i,r,"google_sharch_status"),u())})},changeHttpsStatus(i,e,s){let r=e!=!0,t=this,d=JSON.parse(sessionStorage.getItem("userinfo")).user_id;return new Promise(u=>{t.ISAdmin==!1?t.$api.Admin.checkIsAuthToButton({user_id:d,menu_auth_id:s}).then(function(c){if(c.data.code==0)return t.$Message.error(c.data.msg),!1;t.saveSwitchOrSelect(i,r,"https_status"),u()}).catch(function(c){t.$Message.error("Network error, request failed"),console.log(c)}):(t.saveSwitchOrSelect(i,r,"https_status"),u())})},onChangeStatus(i,e,s){let r=this,t=JSON.parse(sessionStorage.getItem("userinfo")).user_id;return new Promise(d=>{r.ISAdmin==!1?r.$api.Admin.checkIsAuthToButton({user_id:t,menu_auth_id:s}).then(function(u){if(u.data.code==0)return r.$Message.error(u.data.msg),r.getAppTrace(),!1;r.saveSwitchOrSelect(i,e,"status"),d()}).catch(function(u){r.$Message.error("Network error, request failed"),console.log(u)}):(r.saveSwitchOrSelect(i,e,"status"),d())})},onChangeAppType(i,e,s){let r=this,t=JSON.parse(sessionStorage.getItem("userinfo")).user_id;return new Promise(d=>{r.ISAdmin==!1?r.$api.Admin.checkIsAuthToButton({user_id:t,menu_auth_id:s}).then(function(u){if(u.data.code==0)return r.$Message.error(u.data.msg),r.getAppTrace(),!1;r.saveSwitchOrSelect(i,e,"app_type"),d()}).catch(function(u){r.$Message.error("Network error, request failed"),console.log(u)}):(r.saveSwitchOrSelect(i,e,"app_type"),d())})},onChangePublishId(i,e,s){let r=this,t=JSON.parse(sessionStorage.getItem("userinfo")).user_id;return new Promise(d=>{r.ISAdmin==!1?r.$api.Admin.checkIsAuthToButton({user_id:t,menu_auth_id:s}).then(function(u){if(u.data.code==0)return r.$Message.error(u.data.msg),r.getAppTrace(),!1;r.saveSwitchOrSelect(i,e,"publish_id"),d()}).catch(function(u){r.$Message.error("Network error, request failed"),console.log(u)}):(r.saveSwitchOrSelect(i,e,"publish_id"),d())})},async saveSwitchOrSelect(i,e,s){let r=this;await r.$api.AppTrace.update(i,{data:e,field:s}).then(function(t){t.data.code==200?(r.$Message.success(t.data.msg),setTimeout(()=>{r.getAppTrace()},1e3)):r.$Message.error(t.data.msg)}).catch(function(t){r.$Message.error("Network error, request failed")})},async getAppTrace(){let i=this,e=i.queryModel,s={page:i.page,pageSize:i.pageSize,api_vps:e.api_vps?e.api_vps:"",app_name:e.app_name?e.app_name:"",app_password:e.app_password?e.app_password:"",app_type:e.app_type?e.app_type:"",b_project:e.b_project?e.b_project:"",bag_time:e.bag_time?e.bag_time:"",domain_url:e.domain_url?e.domain_url:"",package_name:e.package_name?e.package_name:"",status:e.status?e.status:""};await i.$api.AppTrace.index(s).then(function(r){r.data.code==200?(i.data=r.data.data.data,i.total=r.data.data.total,i.pageSize=r.data.data.per_page,i.current_page=r.data.data.current_page,sessionStorage.setItem("AppTracebProject",JSON.stringify(r.data.data.bProject)),sessionStorage.setItem("AppTracebappType",JSON.stringify(r.data.data.appType)),sessionStorage.setItem("AppTracestatus",JSON.stringify(r.data.data.status)),sessionStorage.setItem("Chat",JSON.stringify(r.data.data.chat)),sessionStorage.setItem("Publish",JSON.stringify(r.data.data.admin)),i.bProject=JSON.parse(sessionStorage.getItem("AppTracebProject")),i.appType=JSON.parse(sessionStorage.getItem("AppTracebappType")),i.status=JSON.parse(sessionStorage.getItem("AppTracestatus")),i.chat=JSON.parse(sessionStorage.getItem("Chat")),i.publish=JSON.parse(sessionStorage.getItem("Publish"))):r.data.code==210?(i.page=r.data.data.page>1?r.data.data.page-1:1,i.page==1?i.data=[]:i.getAppTrace()):console.log(r.data.msg)}).catch(function(r){i.$Message.error("Network error, request failed")})},async saveAppTrace(i,e){let s=this,r=JSON.parse(sessionStorage.getItem("userinfo")).user_id;s.ISAdmin==!1?await s.$api.Admin.checkIsAuthToButton({user_id:r,menu_auth_id:e}).then(function(t){t.data.code==0?s.$Message.error(t.data.msg):(s.modalSaveAppTrace=!0,i>0?(s.modelType="read",s.getAppTraceToId(i)):(s.formValidateID=0,s.modelType="add"))}).catch(function(t){s.$Message.error("Network error, request failed"),console.log(t)}):(s.modalSaveAppTrace=!0,i>0?(s.modelType="read",s.getAppTraceToId(i)):(s.formValidateID=0,s.modelType="add"))},async getAppTraceToId(i){let e=this;await e.$api.AppTrace.read(i).then(function(s){s.data.code==200?(e.formValidate=s.data.data,e.formValidateID=i,s.data.data.image&&(console.log(s.data.data.image),e.uploadList={},e.uploadVisible=!0,e.uploadList={name:s.data.data.image,status:"finished",url:"http://www.tp6.com/storage/"+s.data.data.image,showProgress:!1},console.log(e.uploadList))):e.$Message.error(s.data.msg)}).catch(function(s){e.$Message.error("Network error, request failed")})},async saveAppTraceData(i){let e=this,s=e.formValidateID;s>0?await e.$api.AppTrace.update(s,i).then(function(r){r.data.code==200?(e.$Message.success(r.data.msg),setTimeout(()=>{e.formValidateID=0,e.modalSaveAppTrace=!1,e.getAppTrace(),e.cancelModel("formValidate")},2e3)):(e.$Message.error(r.data.msg),e.$refs.formValidate.resetFields())}).catch(function(r){e.$Message.error("Network error, request failed")}):await e.$api.AppTrace.save(i).then(function(r){r.data.code==200?(e.$Message.success(r.data.msg),setTimeout(()=>{e.modalSaveAppTrace=!1,e.getAppTrace(),e.cancelModel("formValidate")},1e3)):(e.$Message.error(r.data.msg),e.cancelModel("formValidate"))}).catch(function(r){e.$Message.error("Network error, request failed")})},AsyncSaveAppTrace(i){let e=this;e.$refs[i].validate(s=>{s?setTimeout(()=>{e.uploadVisible&&(e.formValidate.image=e.uploadList.name),e.saveAppTraceData(e.formValidate),console.log(e.formValidate)},1e3):(e.loading=!1,setTimeout(()=>{e.loading=!0},10))})},async clickDelAppTrace(i,e){let s=this,r=JSON.parse(sessionStorage.getItem("userinfo")).user_id;s.ISAdmin==!1?await s.$api.Admin.checkIsAuthToButton({user_id:r,menu_auth_id:e}).then(function(t){t.data.code==0?s.$Message.error(t.data.msg):s.delAppTrace(i)}).catch(function(t){s.$Message.error("Network error, request failed"),console.log(t)}):s.delAppTrace(i)},async delAppTrace(i){var e=this;await e.$Modal.confirm({title:"delete",content:"Are you sure you want to delete it?",onOk:function(){e.$api.AppTrace.delete(i).then(function(s){s.data.code==200&&(e.$Message.success(s.data.msg),setTimeout(()=>{e.getAppTrace()},1500))}).catch(function(s){e.$Message.error("Network error, request failed")})}})},cancelModel(i){this.formValidate={},this.$refs[i].resetFields(),this.uploadVisible=!1,this.uploadList={}},changePage(i){var e=this;e.page=i,e.getAppTrace()},nextPage(i){var e=this;e.page=i,e.getAppTrace()},prevPage(i){var e=this;e.page=i,e.getAppTrace()},pageSizeChange(i){var e=this;e.pageSize=i,e.page=1,e.getAppTrace()},handleView(i){this.imgName=i,this.visible=!0},async handleRemove(i,e,s){let r=i.name,t=this,d=JSON.parse(sessionStorage.getItem("userinfo")).user_id;t.ISAdmin==!1?await t.$api.Admin.checkIsAuthToButton({user_id:d,menu_auth_id:s}).then(function(u){u.data.code==0?t.$Message.error(u.data.msg):(this.delImage(r,e),this.uploadList={},this.uploadVisible=!1)}).catch(function(u){t.$Message.error("Network error, request failed"),console.log(u)}):(this.delImage(r,e),this.uploadList={},this.uploadVisible=!1)},async delImage(i,e){let s=this;await s.$Modal.confirm({title:"isDeleteImage",content:"Are you sure you want to delete this image?",onOk:function(){s.$api.AppTrace.delImage({name:i,id:e}).then(function(r){r.data.code==200&&(console.log(r.data.msg),s.$Message.success(r.data.msg))}).catch(function(r){s.$Message.error("Network error, request failed")})}})},handleSuccess(i,e,s){i.code==200?(this.uploadList={},this.uploadVisible=!0,this.uploadList={name:i.data,status:"finished",url:"http://www.tp6.com/storage/"+i.data,showProgress:!1}):this.$Message.error(i.msg)},handleError(i,e,s){this.$Message.error("上传失败")},formatError(){this.$Message.error("文件格式错误")},async clickIsCopy(i,e){let s=this,r=JSON.parse(sessionStorage.getItem("userinfo")).user_id;s.ISAdmin==!1?await s.$api.Admin.checkIsAuthToButton({user_id:r,menu_auth_id:e}).then(function(t){t.data.code==0?s.$Message.error(t.data.msg):s.isCopy(i)}).catch(function(t){s.$Message.error("Network error, request failed"),console.log(t)}):s.isCopy(i)},async isCopy(i){let e=this;await e.$Modal.confirm({title:"isCopy",content:"Are you sure you want to isCopy it?",onOk:function(){e.$api.AppTrace.isCopy(i).then(function(s){s.data.code==200&&(e.$Message.success(s.data.msg),setTimeout(()=>{e.getAppTrace()},1500))}).catch(function(s){e.$Message.error("Network error, request failed")})}})},async clickRead(i,e,s){let r=this,t=JSON.parse(sessionStorage.getItem("userinfo")).user_id;r.ISAdmin==!1?await r.$api.Admin.checkIsAuthToButton({user_id:t,menu_auth_id:s}).then(function(d){d.data.code==0?r.$Message.error(d.data.msg):r.read(i,e)}).catch(function(d){r.$Message.error("Network error, request failed"),console.log(d)}):r.read(i,e)},async read(i,e){let s=this;s.$Message.loading("拼命加载中..."),await s.$api.AppTrace.readUpdateBatchToId(e).then(function(r){r.data.code==200?setTimeout(()=>{s.modelProject=!0,s.modelTitle="更新原因数据: "+i,s.projectData=r.data.data},1e3):(s.$Message.error(r.data.msg),console.log(r.data.msg),s.data=[])}).catch(function(r){s.$Message.error("Network error, request failed")})}}},F={key:0},R={class:"demo-split"},G={class:"demo-split-pane"},H={class:"demo-split-pane"},K=y("span",null,"On",-1),Q=y("span",null,"Off",-1),W=y("span",null,"On",-1),X=y("span",null,"Off",-1),Y=y("span",null,"On",-1),Z=y("span",null,"Off",-1),$=y("span",null,"On",-1),ee=y("span",null,"Off",-1),te=y("br",null,null,-1),ae=y("br",null,null,-1),le={key:0,class:"demo-upload-list"},oe={class:"demo-upload-list-cover"},ie={style:{width:"58px",height:"58px","line-height":"58px"}},se=["onClick"],re={key:1},de=y("br",null,null,-1),ne={key:1};function ue(i,e,s,r,t,d){const u=f("Icon"),c=f("Option"),S=f("Select"),m=f("Input"),x=f("DatePicker"),T=f("Button"),U=f("Space"),N=f("Split"),p=f("FormItem"),b=f("Switch"),I=f("Image"),C=f("Upload"),q=f("ImagePreview"),j=f("Form"),O=f("Modal"),z=f("Table"),P=f("Page"),E=f("NoAuth");return t.haveRule?(g(),_("div",F,[y("div",R,[o(N,{modelValue:t.split,"onUpdate:modelValue":e[10]||(e[10]=a=>t.split=a)},{left:l(()=>[y("div",G,[d.isSubstring(157,t.rules)?(g(),V(u,{key:0,type:"md-add-circle",size:"24",color:"#2db7f5",title:"add",onClick:e[0]||(e[0]=a=>d.saveAppTrace(0,157))})):A("",!0)])]),right:l(()=>[y("div",H,[o(U,{wrap:"",align:"start",split:""},{default:l(()=>[o(S,{modelValue:t.queryModel.b_project,"onUpdate:modelValue":e[1]||(e[1]=a=>t.queryModel.b_project=a),onOnOpenChange:i.onOpenProject,placeholder:"跳转项目组",style:{width:"120px"},size:"default",clearable:"",filterable:""},{default:l(()=>[(g(!0),_(k,null,v(t.bProject,a=>(g(),V(c,{value:a.b_project,key:a.b_project},{default:l(()=>[n(w(a.b_project),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onOnOpenChange"]),o(S,{modelValue:t.queryModel.app_type,"onUpdate:modelValue":e[2]||(e[2]=a=>t.queryModel.app_type=a),onOnOpenChange:i.onOpenAppType,placeholder:"类型",style:{width:"100px"},size:"default",clearable:"",filterable:""},{default:l(()=>[(g(!0),_(k,null,v(t.appType,a=>(g(),V(c,{value:a.app_type,key:a.app_type},{default:l(()=>[n(w(a.app_type),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onOnOpenChange"]),o(S,{modelValue:t.queryModel.status,"onUpdate:modelValue":e[3]||(e[3]=a=>t.queryModel.status=a),onOnOpenChange:i.onOpenStatus,placeholder:"状态",style:{width:"100px"},size:"default",clearable:"",filterable:""},{default:l(()=>[(g(!0),_(k,null,v(t.status,a=>(g(),V(c,{value:a.status,key:a.status},{default:l(()=>[n(w(a.status),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onOnOpenChange"]),o(m,{modelValue:t.queryModel.app_password,"onUpdate:modelValue":e[4]||(e[4]=a=>t.queryModel.app_password=a),placeholder:"密码",style:{width:"150px"},size:"default"},null,8,["modelValue"]),o(m,{modelValue:t.queryModel.domain_url,"onUpdate:modelValue":e[5]||(e[5]=a=>t.queryModel.domain_url=a),placeholder:"域名地址",style:{width:"150px"},size:"default"},null,8,["modelValue"]),o(m,{modelValue:t.queryModel.app_name,"onUpdate:modelValue":e[6]||(e[6]=a=>t.queryModel.app_name=a),placeholder:"应用名",style:{width:"150px"},size:"default"},null,8,["modelValue"]),o(m,{modelValue:t.queryModel.package_name,"onUpdate:modelValue":e[7]||(e[7]=a=>t.queryModel.package_name=a),placeholder:"包名",style:{width:"150px"},size:"default"},null,8,["modelValue"]),o(m,{modelValue:t.queryModel.api_vps,"onUpdate:modelValue":e[8]||(e[8]=a=>t.queryModel.api_vps=a),placeholder:"接口服务器",style:{width:"150px"},size:"default"},null,8,["modelValue"]),o(x,{size:"default",type:"date",onOnChange:d.changeDate,modelValue:t.queryModel.bag_time,"onUpdate:modelValue":e[9]||(e[9]=a=>t.queryModel.bag_time=a),placeholder:"提包日期",style:{width:"120px"}},null,8,["onOnChange","modelValue"]),o(T,{size:"default",onClick:d.clickSearch},{default:l(()=>[o(u,{type:"ios-search",size:"18"})]),_:1},8,["onClick"]),o(T,{size:"default",onClick:d.onRefresh},{default:l(()=>[o(u,{type:"md-refresh",size:"18"})]),_:1},8,["onClick"])]),_:1})])]),_:1},8,["modelValue"])]),t.formValidate?(g(),V(O,{key:0,modelValue:t.modalSaveAppTrace,"onUpdate:modelValue":e[55]||(e[55]=a=>t.modalSaveAppTrace=a),ref:"refTaskFlowModal",title:"saveAppTrace",loading:t.loading,onOnOk:e[56]||(e[56]=a=>d.AsyncSaveAppTrace("formValidate")),onOnCancel:e[57]||(e[57]=a=>d.cancelModel("formValidate")),"lock-scroll":"true",closable:"false",scrollable:!1,width:"78%"},{default:l(()=>[o(j,{ref:"formValidate",model:t.formValidate,rules:t.ruleValidate,inline:""},{default:l(()=>[o(p,{prop:"app_name"},{default:l(()=>[o(m,{modelValue:t.formValidate.app_name,"onUpdate:modelValue":e[11]||(e[11]=a=>t.formValidate.app_name=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 应用名 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"app_package"},{default:l(()=>[o(m,{modelValue:t.formValidate.app_package,"onUpdate:modelValue":e[12]||(e[12]=a=>t.formValidate.app_package=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 包 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"package_name"},{default:l(()=>[o(m,{modelValue:t.formValidate.package_name,"onUpdate:modelValue":e[13]||(e[13]=a=>t.formValidate.package_name=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 包 名 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"main_name"},{default:l(()=>[o(m,{modelValue:t.formValidate.main_name,"onUpdate:modelValue":e[14]||(e[14]=a=>t.formValidate.main_name=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 主类名 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"app_function"},{default:l(()=>[o(m,{modelValue:t.formValidate.app_function,"onUpdate:modelValue":e[15]||(e[15]=a=>t.formValidate.app_function=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 功能 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"app_type"},{default:l(()=>[o(S,{modelValue:t.formValidate.app_type,"onUpdate:modelValue":e[16]||(e[16]=a=>t.formValidate.app_type=a),size:"default",style:{width:"282px"}},{prefix:l(()=>[n(" 类 型 | ")]),default:l(()=>[(g(!0),_(k,null,v(t.appType,a=>(g(),V(c,{value:a.app_type,key:a.app_type},{default:l(()=>[n(w(a.app_type),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"bag_vps"},{default:l(()=>[o(m,{modelValue:t.formValidate.bag_vps,"onUpdate:modelValue":e[17]||(e[17]=a=>t.formValidate.bag_vps=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 提包服务器 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"api_vps"},{default:l(()=>[o(m,{modelValue:t.formValidate.api_vps,"onUpdate:modelValue":e[18]||(e[18]=a=>t.formValidate.api_vps=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 接口服务器 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"vps_username"},{default:l(()=>[o(m,{modelValue:t.formValidate.vps_username,"onUpdate:modelValue":e[19]||(e[19]=a=>t.formValidate.vps_username=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 服务器用户名 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"vps_password"},{default:l(()=>[o(m,{modelValue:t.formValidate.vps_password,"onUpdate:modelValue":e[20]||(e[20]=a=>t.formValidate.vps_password=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 服务器密码 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"afdev"},{default:l(()=>[o(m,{modelValue:t.formValidate.afdev,"onUpdate:modelValue":e[21]||(e[21]=a=>t.formValidate.afdev=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" AFdev ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"afaccount"},{default:l(()=>[o(m,{modelValue:t.formValidate.afaccount,"onUpdate:modelValue":e[22]||(e[22]=a=>t.formValidate.afaccount=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" AF账号 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"app_gmail"},{default:l(()=>[o(m,{modelValue:t.formValidate.app_gmail,"onUpdate:modelValue":e[23]||(e[23]=a=>t.formValidate.app_gmail=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 谷歌邮箱 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"google_email_password"},{default:l(()=>[o(m,{modelValue:t.formValidate.google_email_password,"onUpdate:modelValue":e[24]||(e[24]=a=>t.formValidate.google_email_password=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 谷歌邮箱密码 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"google_assist_email"},{default:l(()=>[o(m,{modelValue:t.formValidate.google_assist_email,"onUpdate:modelValue":e[25]||(e[25]=a=>t.formValidate.google_assist_email=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 谷歌辅助邮箱 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"google_play_link"},{default:l(()=>[o(m,{modelValue:t.formValidate.google_play_link,"onUpdate:modelValue":e[26]||(e[26]=a=>t.formValidate.google_play_link=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" Google Play链接 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"spare_code"},{default:l(()=>[o(m,{modelValue:t.formValidate.spare_code,"onUpdate:modelValue":e[27]||(e[27]=a=>t.formValidate.spare_code=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" IPTOKEN ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"google_auth"},{default:l(()=>[o(m,{modelValue:t.formValidate.google_auth,"onUpdate:modelValue":e[28]||(e[28]=a=>t.formValidate.google_auth=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 身份验证 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"signature"},{default:l(()=>[o(m,{modelValue:t.formValidate.signature,"onUpdate:modelValue":e[29]||(e[29]=a=>t.formValidate.signature=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 数字签名 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"bag_time"},{default:l(()=>[o(m,{type:"date",modelValue:t.formValidate.bag_time,"onUpdate:modelValue":e[30]||(e[30]=a=>t.formValidate.bag_time=a),size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 提包日期 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"blocked_cause"},{default:l(()=>[o(m,{modelValue:t.formValidate.blocked_cause,"onUpdate:modelValue":e[31]||(e[31]=a=>t.formValidate.blocked_cause=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 被封原因 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"domain_url"},{default:l(()=>[o(m,{modelValue:t.formValidate.domain_url,"onUpdate:modelValue":e[32]||(e[32]=a=>t.formValidate.domain_url=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 域名地址 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"privacy_agreement_url"},{default:l(()=>[o(m,{modelValue:t.formValidate.privacy_agreement_url,"onUpdate:modelValue":e[33]||(e[33]=a=>t.formValidate.privacy_agreement_url=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 隐私协议地址 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"jump_url"},{default:l(()=>[o(m,{modelValue:t.formValidate.jump_url,"onUpdate:modelValue":e[34]||(e[34]=a=>t.formValidate.jump_url=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 跳转链接 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"b_project"},{default:l(()=>[o(m,{modelValue:t.formValidate.b_project,"onUpdate:modelValue":e[35]||(e[35]=a=>t.formValidate.b_project=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 跳转项目组 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"status"},{default:l(()=>[o(S,{modelValue:t.formValidate.status,"onUpdate:modelValue":e[36]||(e[36]=a=>t.formValidate.status=a),size:"default",style:{width:"282px"}},{prefix:l(()=>[n(" 状 态 | ")]),default:l(()=>[(g(!0),_(k,null,v(t.status,a=>(g(),V(c,{value:a.status,key:a.status},{default:l(()=>[n(w(a.status),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"跳转开关","label-width":70,style:{width:"282px"}},{default:l(()=>[o(b,{modelValue:t.formValidate.jump_switch,"onUpdate:modelValue":e[37]||(e[37]=a=>t.formValidate.jump_switch=a),size:"large"},{open:l(()=>[K]),close:l(()=>[Q]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"域名验证","label-width":70,style:{width:"282px"}},{default:l(()=>[o(b,{modelValue:t.formValidate.google_sharch_status,"onUpdate:modelValue":e[38]||(e[38]=a=>t.formValidate.google_sharch_status=a),size:"large"},{open:l(()=>[W]),close:l(()=>[X]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"HTTPS 启用状态","label-width":120,style:{width:"282px"}},{default:l(()=>[o(b,{modelValue:t.formValidate.https_status,"onUpdate:modelValue":e[39]||(e[39]=a=>t.formValidate.https_status=a),size:"large"},{open:l(()=>[Y]),close:l(()=>[Z]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"k3"},{default:l(()=>[o(m,{modelValue:t.formValidate.k3,"onUpdate:modelValue":e[40]||(e[40]=a=>t.formValidate.k3=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" k3/Adtoken ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"k4"},{default:l(()=>[o(m,{modelValue:t.formValidate.k4,"onUpdate:modelValue":e[41]||(e[41]=a=>t.formValidate.k4=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" K4/AdRegToken ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"sha1"},{default:l(()=>[o(m,{modelValue:t.formValidate.sha1,"onUpdate:modelValue":e[42]||(e[42]=a=>t.formValidate.sha1=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" Sha1 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"up_time"},{default:l(()=>[o(m,{type:"date",modelValue:t.formValidate.up_time,"onUpdate:modelValue":e[43]||(e[43]=a=>t.formValidate.up_time=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 上架日期 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"update_reason"},{default:l(()=>[o(m,{modelValue:t.formValidate.update_reason,"onUpdate:modelValue":e[44]||(e[44]=a=>t.formValidate.update_reason=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 更新原因 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"down_time"},{default:l(()=>[o(m,{modelValue:t.formValidate.down_time,"onUpdate:modelValue":e[45]||(e[45]=a=>t.formValidate.down_time=a),type:"date",placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 下架日期 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"down_reason"},{default:l(()=>[o(m,{modelValue:t.formValidate.down_reason,"onUpdate:modelValue":e[46]||(e[46]=a=>t.formValidate.down_reason=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 下架原因 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"热更新开关","label-width":85,style:{width:"282px"}},{default:l(()=>[o(b,{modelValue:t.formValidate.update_switch,"onUpdate:modelValue":e[47]||(e[47]=a=>t.formValidate.update_switch=a),size:"large"},{open:l(()=>[$]),close:l(()=>[ee]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"update_url"},{default:l(()=>[o(m,{modelValue:t.formValidate.update_url,"onUpdate:modelValue":e[48]||(e[48]=a=>t.formValidate.update_url=a),placeholder:"Enter something...",size:"default",style:{width:"282px"}},{prepend:l(()=>[n(" 热更新地址 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"publish_id"},{default:l(()=>[o(S,{modelValue:t.formValidate.publish_id,"onUpdate:modelValue":e[49]||(e[49]=a=>t.formValidate.publish_id=a),size:"default",style:{width:"282px"}},{prefix:l(()=>[n(" 发布人员 | ")]),default:l(()=>[(g(!0),_(k,null,v(t.publish,a=>(g(),V(c,{value:a.id,key:a.id},{default:l(()=>[n(w(a.username),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),te,o(p,{prop:"tele_chatid"},{default:l(()=>[o(S,{modelValue:t.formValidate.tele_chatid,"onUpdate:modelValue":e[50]||(e[50]=a=>t.formValidate.tele_chatid=a),multiple:"",size:"default"},{prefix:l(()=>[n(" 讨论组id | ")]),default:l(()=>[(g(!0),_(k,null,v(t.chat,a=>(g(),V(c,{value:a.value,key:a.value},{default:l(()=>[n(w(a.lable),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),ae,o(p,{style:{width:"400px"}},{default:l(()=>[t.uploadVisible?(g(),_("div",le,[t.uploadList.status==="finished"?(g(),_(k,{key:0},[o(I,{src:t.uploadList.url,fit:"cover",width:"100%",height:"100%"},null,8,["src"]),y("div",oe,[o(u,{type:"ios-eye-outline",onClick:e[51]||(e[51]=a=>d.handleView(t.uploadList.name))}),o(u,{type:"ios-trash-outline",onClick:e[52]||(e[52]=a=>d.handleRemove(t.uploadList,t.formValidateID,258))})])],64)):A("",!0)])):A("",!0),o(C,{ref:"upload","show-upload-list":!1,action:t.uploadAction+t.formValidateID,type:"drag",style:{display:"inline-block",width:"58px"},format:["jpg","jpeg","png"],"before-upload":i.beforeUpload,"on-progress":i.handleProgress,"on-success":d.handleSuccess,"on-error":d.handleError,"on-format-error":d.formatError},{default:l(()=>[y("div",ie,[o(u,{type:"md-cloud-upload",size:"20"})])]),_:1},8,["action","before-upload","on-progress","on-success","on-error","on-format-error"]),o(q,{modelValue:t.visible,"onUpdate:modelValue":e[53]||(e[53]=a=>t.visible=a),"preview-list":["http://www.tp6.com/storage/"+t.imgName]},null,8,["modelValue","preview-list"])]),_:1}),o(m,{type:"hidden",modelValue:t.formValidateID,"onUpdate:modelValue":e[54]||(e[54]=a=>t.formValidateID=a)},null,8,["modelValue"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","loading"])):A("",!0),o(z,{border:"","max-height":"700",columns:t.columns,data:t.data,size:"small",style:{margin:"10px"}},{isCopy:l(()=>[o(u,{type:"ios-brush-outline",size:"25",color:"#FFB800"})]),status:l(({row:a})=>[o(S,{modelValue:a.status,"onUpdate:modelValue":h=>a.status=h,style:{width:"120px"},size:"small",onOnChange:h=>d.onChangeStatus(a.id,a.status,160)},{default:l(()=>[(g(!0),_(k,null,v(t.status,h=>(g(),V(c,{value:h.status,key:h.status},{default:l(()=>[n(w(h.status),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onOnChange"])]),appType:l(({row:a})=>[o(S,{modelValue:a.app_type,"onUpdate:modelValue":h=>a.app_type=h,style:{width:"120px"},size:"small",onOnChange:h=>d.onChangeAppType(a.id,a.app_type,164)},{default:l(()=>[(g(!0),_(k,null,v(t.appType,h=>(g(),V(c,{value:h.app_type,key:h.app_type},{default:l(()=>[n(w(h.app_type),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onOnChange"])]),jumpSwitch:l(({row:a})=>[o(b,{"model-value":a.jump_switch,size:"small","before-change":h=>d.changeJumpSwitch(a.id,a.jump_switch,161)},null,8,["model-value","before-change"])]),googleSharchStatus:l(({row:a})=>[o(b,{"model-value":a.google_sharch_status,size:"small","before-change":h=>d.changeGoogleSharchStatus(a.id,a.google_sharch_status,165)},null,8,["model-value","before-change"])]),https_Status:l(({row:a})=>[o(b,{"model-value":a.https_status,size:"small","before-change":h=>d.changeHttpsStatus(a.id,a.https_status,166)},null,8,["model-value","before-change"])]),updateSwitch:l(({row:a})=>[o(b,{"model-value":a.update_switch,size:"small","before-change":h=>d.changeUpdateSwitch(a.id,a.update_switch,196)},null,8,["model-value","before-change"])]),image:l(({row:a})=>[a.image?(g(),V(I,{key:0,src:["http://www.tp6.com/storage/"+a.image],fit:"contain",width:"120px",height:"80px",preview:"","preview-list":["http://www.tp6.com/storage/"+a.image]},null,8,["src","preview-list"])):A("",!0)]),updateBatch:l(({row:a})=>[a.update_batch>0?(g(),_("strong",{key:0,style:{color:"#0bd50b","font-size":"20px","font-weight":"bold"},onClick:h=>d.clickRead(a.app_name,a.id,169)},w(a.update_batch),9,se)):(g(),_("text",re,w(a.update_batch),1))]),publishId:l(({row:a})=>[o(S,{modelValue:a.publish_id,"onUpdate:modelValue":h=>a.publish_id=h,style:{width:"120px"},size:"small",onOnChange:h=>d.onChangePublishId(a.id,a.publish_id,197)},{default:l(()=>[(g(!0),_(k,null,v(t.publish,h=>(g(),V(c,{value:h.id,key:h.id},{default:l(()=>[n(w(h.username),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onOnChange"])]),action:l(({row:a,index:h})=>[d.isSubstring(257,t.rules)?(g(),V(u,{key:0,type:"ios-brush-outline",size:"24",color:"#FFB800",title:"isCopy",onClick:M=>d.clickIsCopy(a.id,257)},null,8,["onClick"])):A("",!0),d.isSubstring(158,t.rules)?(g(),V(u,{key:1,type:"ios-create",size:"24",color:"#47cb89",title:"edit",onClick:M=>d.saveAppTrace(a.id,158)},null,8,["onClick"])):A("",!0),d.isSubstring(159,t.rules)?(g(),V(u,{key:2,type:"ios-trash",size:"24",color:"red",title:"del",onClick:M=>d.clickDelAppTrace(a.id,159)},null,8,["onClick"])):A("",!0)]),_:1},8,["columns","data"]),de,J(o(P,{total:t.total,"page-size":t.pageSize,modelValue:t.current_page,"onUpdate:modelValue":e[58]||(e[58]=a=>t.current_page=a),onOnNext:d.nextPage,onOnPrev:d.prevPage,onOnChange:d.changePage,onOnPageSizeChange:d.pageSizeChange,"show-sizer":"","show-total":"","show-elevator":"",style:{margin:"10px"}},null,8,["total","page-size","modelValue","onOnNext","onOnPrev","onOnChange","onOnPageSizeChange"]),[[D,t.total>10]]),o(O,{title:t.modelTitle,modelValue:t.modelProject,"onUpdate:modelValue":e[59]||(e[59]=a=>t.modelProject=a),draggable:"",sticky:"","reset-drag-position":"","footer-hide":"",width:"65%"},{default:l(()=>[o(z,{size:"small",columns:t.projectColumns,data:t.projectData,border:"",style:{margin:"10px"}},null,8,["columns","data"])]),_:1},8,["title","modelValue"])])):(g(),_("div",ne,[o(E)]))}const ce=B(L,[["render",ue]]);export{ce as default};
//# sourceMappingURL=Trace-hkJseByy.js.map
