{"version":3,"file":"Api-8LYzTk4T.js","sources":["../../../src/views/admin/Api.vue"],"sourcesContent":["<style>\r\niframe {\r\n  border: none;\r\n}\r\n</style>\r\n<template>\r\n    <div v-if=\"haveRule\" style=\"height: 86%;margin: 5px;\">\r\n        <iframe  src=\"https://0lzt7ot9yn.apifox.cn/api-143720345\" width=\"100%\" height=\"100%\"></iframe>\r\n    </div> \r\n    <div v-else>\r\n        <NoAuth />\r\n    </div>   \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n\r\n            // 是否有权限\r\n            haveRule: true,\r\n\r\n        }\r\n    },\r\n    created() {\r\n        \r\n\r\n        // 获取是否是管理员权限\r\n        let isAdmin = JSON.parse(sessionStorage.getItem('userinfo'))['isAdmin'];\r\n\r\n        if(isAdmin == true){\r\n            this.haveRule = true;\r\n        }else{\r\n            // // 获取当前路由的参数menu_id \r\n            let menu_id = this.$router.currentRoute._value.query.menu_id;\r\n            this.checkAuth(menu_id);\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        // 查询当前窗口是否有权限\r\n        async checkAuth(menu_id){\r\n            let that = this;\r\n            let userId = JSON.parse(sessionStorage.getItem('userinfo'))['user_id']\r\n            await that.$api.Admin.checkAuth({id:menu_id,user_id:userId}).then(function(response) {\r\n                if(response.data.code == 200){\r\n                    console.log(response.data.msg);\r\n                    that.haveRule = true;\r\n                }else{\r\n                    console.log(response.data.msg);\r\n                    that.haveRule = false;\r\n                }\r\n            }).catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n    }\r\n}\r\n\r\n</script>"],"names":["_sfc_main","menu_id","that","userId","response","error","_createElementVNode","_hoisted_2","$data","_openBlock","_createElementBlock","_hoisted_1","_hoisted_3","_hoisted_4","_createVNode","_component_NoAuth"],"mappings":"kJAeA,MAAKA,EAAU,CACX,MAAO,CACH,MAAO,CAGH,SAAU,EAEd,CACH,EACD,SAAU,CAMN,GAFc,KAAK,MAAM,eAAe,QAAQ,UAAU,CAAC,EAAE,SAE/C,GACV,KAAK,SAAW,OACf,CAED,IAAIC,EAAU,KAAK,QAAQ,aAAa,OAAO,MAAM,QACrD,KAAK,UAAUA,CAAO,CAC1B,CAEH,EACD,QAAS,CAEL,MAAM,UAAUA,EAAQ,CACpB,IAAIC,EAAO,KACPC,EAAS,KAAK,MAAM,eAAe,QAAQ,UAAU,CAAC,EAAE,QAC5D,MAAMD,EAAK,KAAK,MAAM,UAAU,CAAC,GAAGD,EAAQ,QAAQE,CAAM,CAAC,EAAE,KAAK,SAASC,EAAU,CAC9EA,EAAS,KAAK,MAAQ,KACrB,QAAQ,IAAIA,EAAS,KAAK,GAAG,EAC7BF,EAAK,SAAW,KAEhB,QAAQ,IAAIE,EAAS,KAAK,GAAG,EAC7BF,EAAK,SAAW,IAEvB,EAAE,MAAM,SAAUG,EAAO,CACtB,QAAQ,IAAIA,CAAK,EACpB,CACJ,CACL,CACJ,WAnDyB,MAAA,CAAgC,OAAA,MAAA,OAAA,KAAA,KACjDC,EAA8F,SAAA,CAArF,IAAI,6CAA6C,MAAM,OAAO,OAAO,oBAA9EC,gEADOC,EAAQ,UAAnBC,EAAA,EAAAC,EAEM,MAFNC,EAEMC,CAAA,QACNF,EAEM,MAAAG,EAAA,CADFC,EAAUC,CAAA"}