import{_ as v}from"../js2/index-A1W57FR6.js";import{aM as y,az as t,q as o,r as h,z as _,bs as l,a_ as a}from"./_@vue-AcWbRQZ2.js";import"./__vendor-oHGn7YgQ.js";const C={data(){return{haveRule:!0,time:"",columns:[{title:"名称",key:"b_project"},{title:"已上架",key:"yishangjia",slot:"yishangjia"},{title:"审核中",key:"shenhezhong",slot:"shenhezhong"},{title:"待审核",key:"daishenhe",slot:"daishenhe"},{title:"账号禁用",key:"zhanghaojinyong",slot:"zhanghaojinyong"},{title:"分配中",key:"fenpeizhong",slot:"fenpeizhong"},{title:"已暂停",key:"yizanting",slot:"yizanting"},{title:"待验证",key:"daiyanzheng",slot:"daiyanzheng"},{title:"已下架",key:"yixiajia",slot:"yixiajia"},{title:"账号关联",key:"zhanghaoguanlian",slot:"zhanghaoguanlian"},{title:"更新中",key:"gengxinzhong",slot:"gengxinzhong"},{title:"其他",key:"qita",slot:"qita"}],data:[],modelProject:!1,modelTitle:"",projectColumns:[{title:"Id",key:"id"},{title:"应用名",key:"app_name",width:200},{title:"包名",key:"package_name",width:200},{title:"主类名",key:"main_name",width:200},{title:"类名",key:"class_name",width:200},{title:"k3",key:"k3",width:120},{title:"k4",key:"k4",width:120},{title:"状态",key:"status",width:88},{title:"项目组",key:"b_project",width:74}],projectData:[]}},created(){if(JSON.parse(sessionStorage.getItem("userinfo")).isAdmin==!0)this.getProjectGather();else{let i=this.$router.currentRoute._value.query.menu_id;this.checkAuth(i)}},methods:{async checkAuth(c){let i=this,n=JSON.parse(sessionStorage.getItem("userinfo")).user_id;await i.$api.Admin.checkAuth({id:c,user_id:n}).then(function(r){r.data.code==200?(console.log(r.data.msg),i.haveRule=!0,i.getProjectGather()):(console.log(r.data.msg),i.haveRule=!1)}).catch(function(r){console.log(r)})},async getProjectGather(){let c=this,i={time:c.time};await c.$api.ProjectGather.index(i).then(function(n){n.data.code==200?c.data=n.data.data:console.log(n.data.msg)}).catch(function(n){console.log(n)})},clickSearch(){let c=this,i={time:c.time};c.queryProjectGather(i)},async queryProjectGather(c){let i=this;i.$Message.loading("拼命加载中..."),await i.$api.ProjectGather.index(c).then(function(n){n.data.code==200?setTimeout(()=>{i.data=n.data.data},1e3):(console.log(n.data.msg),i.data=[])}).catch(function(n){console.log(n)})},onRefresh(){this.time="",this.$Message.loading("拼命加载中..."),setTimeout(()=>{this.getProjectGather()},2e3)},async read(c,i){let n=this;n.$Message.loading("拼命加载中...");let r={b_project:c,status:i};await n.$api.ProjectGather.showProject(r).then(function(s){s.data.code==200?setTimeout(()=>{n.modelProject=!0,n.modelTitle="数据组数据: "+c,n.projectData=s.data.data},1e3):(n.$Message.error(s.data.msg),console.log(s.data.msg),n.data=[])}).catch(function(s){console.log(s)})}}},x={key:0},P={class:"demo-split"},G={class:"demo-split-pane"},R={key:0},q=["onClick"],A={key:1},S={key:0},T=["onClick"],V={key:1},M={key:0},I=["onClick"],N={key:1},B={key:0},D=["onClick"],J={key:1},O={key:0},U=["onClick"],E={key:1},$={key:0},F=["onClick"],H={key:1},K={key:0},L=["onClick"],Q={key:1},W={key:0},X=["onClick"],Y={key:1},Z={key:0},w=["onClick"],ee={key:1},te={key:0},oe=["onClick"],ie={key:1},ne={key:0},ae=["onClick"],se={key:1},le={key:1};function ce(c,i,n,r,s,d){const k=y("Radio"),j=y("RadioGroup"),u=y("Icon"),m=y("Button"),p=y("Space"),z=y("Table"),b=y("Modal"),f=y("NoAuth");return s.haveRule?(t(),o("div",x,[h("div",P,[h("div",G,[_(p,{align:"center",size:"default"},{default:l(()=>[_(j,{modelValue:s.time,"onUpdate:modelValue":i[0]||(i[0]=e=>s.time=e)},{default:l(()=>[_(k,{label:"year",size:"default"}),_(k,{label:"month",size:"default"}),_(k,{label:"week",size:"default"})]),_:1},8,["modelValue"]),_(m,{size:"default",onClick:d.clickSearch},{default:l(()=>[_(u,{type:"ios-search",size:"18"})]),_:1},8,["onClick"]),_(m,{size:"default",onClick:d.onRefresh},{default:l(()=>[_(u,{type:"md-refresh",size:"18"})]),_:1},8,["onClick"])]),_:1})])]),_(z,{size:"small",columns:s.columns,data:s.data,border:"",style:{margin:"10px"}},{yishangjia:l(({row:e})=>[e.yishangjia>0?(t(),o("div",R,[h("strong",{style:{color:"#19be6b"},onClick:g=>d.read(e.b_project,1)},a(e.yishangjia),9,q)])):(t(),o("div",A,a(e.yishangjia),1))]),shenhezhong:l(({row:e})=>[e.shenhezhong>0?(t(),o("div",S,[h("strong",{style:{color:"#19be6b"},onClick:g=>d.read(e.b_project,2)},a(e.shenhezhong),9,T)])):(t(),o("div",V,a(e.shenhezhong),1))]),daishenhe:l(({row:e})=>[e.daishenhe>0?(t(),o("div",M,[h("strong",{style:{color:"#19be6b"},onClick:g=>d.read(e.b_project,3)},a(e.daishenhe),9,I)])):(t(),o("div",N,a(e.daishenhe),1))]),zhanghaojinyong:l(({row:e})=>[e.zhanghaojinyong>0?(t(),o("div",B,[h("strong",{style:{color:"#19be6b"},onClick:g=>d.read(e.b_project,4)},a(e.zhanghaojinyong),9,D)])):(t(),o("div",J,a(e.zhanghaojinyong),1))]),fenpeizhong:l(({row:e})=>[e.fenpeizhong>0?(t(),o("div",O,[h("strong",{style:{color:"#19be6b"},onClick:g=>d.read(e.b_project,5)},a(e.fenpeizhong),9,U)])):(t(),o("div",E,a(e.fenpeizhong),1))]),yizanting:l(({row:e})=>[e.yizanting>0?(t(),o("div",$,[h("strong",{style:{color:"#19be6b"},onClick:g=>d.read(e.b_project,6)},a(e.yizanting),9,F)])):(t(),o("div",H,a(e.yizanting),1))]),daiyanzheng:l(({row:e})=>[e.daiyanzheng>0?(t(),o("div",K,[h("strong",{style:{color:"#19be6b"},onClick:g=>d.read(e.b_project,7)},a(e.daiyanzheng),9,L)])):(t(),o("div",Q,a(e.daiyanzheng),1))]),yixiajia:l(({row:e})=>[e.yixiajia>0?(t(),o("div",W,[h("strong",{style:{color:"#19be6b"},onClick:g=>d.read(e.b_project,8)},a(e.yixiajia),9,X)])):(t(),o("div",Y,a(e.yixiajia),1))]),zhanghaoguanlian:l(({row:e})=>[e.zhanghaoguanlian>0?(t(),o("div",Z,[h("strong",{style:{color:"#19be6b"},onClick:g=>d.read(e.b_project,9)},a(e.zhanghaoguanlian),9,w)])):(t(),o("div",ee,a(e.zhanghaoguanlian),1))]),gengxinzhong:l(({row:e})=>[e.gengxinzhong>0?(t(),o("div",te,[h("strong",{style:{color:"#19be6b"},onClick:g=>d.read(e.b_project,10)},a(e.gengxinzhong),9,oe)])):(t(),o("div",ie,a(e.gengxinzhong),1))]),qita:l(({row:e})=>[e.qita>0?(t(),o("div",ne,[h("strong",{style:{color:"#19be6b"},onClick:g=>d.read(e.b_project,11)},a(e.qita),9,ae)])):(t(),o("div",se,a(e.qita),1))]),_:1},8,["columns","data"]),_(b,{title:s.modelTitle,modelValue:s.modelProject,"onUpdate:modelValue":i[1]||(i[1]=e=>s.modelProject=e),closable:"",draggable:"",sticky:"","reset-drag-position":"","footer-hide":"",width:"83%"},{default:l(()=>[_(z,{size:"small",columns:s.projectColumns,data:s.projectData,border:"",style:{margin:"10px"}},null,8,["columns","data"])]),_:1},8,["title","modelValue"])])):(t(),o("div",le,[_(f)]))}const ge=v(C,[["render",ce]]);export{ge as default};
//# sourceMappingURL=ProjectGather-VLf8C4SN.js.map
